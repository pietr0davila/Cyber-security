## Gobuster
Depois do nmap descobrir um servidor web no alvo você pode efetuar uma busca no gobuster para descobrir aonde estão os diretórios desse servidor e qual o nome deles. Além disso o gobuster é muito utilizado para visualização de páginas não indexadas pelo navegador

### Enumeração de diretório e arquivo

```shell-session
anotherMan@htb[/htb]$ gobuster dir -u http://10.10.10.121/ -w /usr/share/seclists/Discovery/Web-Content/common.txt

===============================================================
Gobuster v3.0.1
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)
===============================================================
[+] Url:            http://10.10.10.121/
[+] Threads:        10
[+] Wordlist:       /usr/share/seclists/Discovery/Web-Content/common.txt
[+] Status codes:   200,204,301,302,307,401,403
[+] User Agent:     gobuster/3.0.1
[+] Timeout:        10s
===============================================================
2020/12/11 21:47:25 Starting gobuster
===============================================================
/.hta (Status: 403)
/.htpasswd (Status: 403)
/.htaccess (Status: 403)
/index.php (Status: 200)
/server-status (Status: 403)
/wordpress (Status: 301)
===============================================================
2020/12/11 21:47:46 Finished
===============================================================
```

Essa é uma varredura gobuster simples, os caminhos especificados são diretórios do servidor web.  
**Status 403 = Forbidden Access/acesso proibido**
**Status 200 = OK**
**Status 301 = Redirecionamento**

Como o gobuster indica, o wordpress está instalado. Wordpress é o software de gerenciamento de conteúdo (CMS) mais usado, o que faz ele ter uma atenção especial de hackers

### Subdominios DNS

Subdominios podem armazenar painéis de administração e outros diretórios importantes, o gobuster pode fazer a busca de subdominios em um url

**DICA: A SecLists é uma das listas mais completas para enumeração e hacking. clonar o repositório com o comando `git clone https://github.com/danielmiessler/SecLists` seguido de `sudo apt install seclists -y`**

```shell-session
anotherMan@htb[/htb]$ gobuster dns -d inlanefreight.com -w /usr/share/SecLists/Discovery/DNS/namelist.txt

===============================================================
Gobuster v3.0.1
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)
===============================================================
[+] Domain:     inlanefreight.com
[+] Threads:    10
[+] Timeout:    1s
[+] Wordlist:   /usr/share/SecLists/Discovery/DNS/namelist.txt
===============================================================
2020/12/17 23:08:55 Starting gobuster
===============================================================
Found: blog.inlanefreight.com
Found: customer.inlanefreight.com
Found: my.inlanefreight.com
Found: ns1.inlanefreight.com
Found: ns2.inlanefreight.com
Found: ns3.inlanefreight.com
===============================================================
2020/12/17 23:10:34 Finished
===============================================================
```

### HTTP Header
Você pode ler os cabeçalhos http do servidor usando o Curl, cabeçalhos http tem dados como o CMS (se houver), qual é o modelo do servidor e até se as configurações de segurança estão mal-feitas

```shell-session
anotherMan@htb[/htb]$ curl -IL https://www.inlanefreight.com

HTTP/1.1 200 OK
Date: Fri, 18 Dec 2020 22:24:05 GMT
Server: Apache/2.4.29 (Ubuntu)
Link: <https://www.inlanefreight.com/index.php/wp-json/>; rel="https://api.w.org/"
Link: <https://www.inlanefreight.com/>; rel=shortlink
Content-Type: text/html; charset=UTF-8
```

### WhatWeb
ferramenta que extraí a versão do servidor, de frameworks e aplicativos usando a whatweb. Isso ajuda a identificar ferramentas em uso e permite o planejamento de exploits

```shell-session
anotherMan@htb[/htb]$ whatweb --no-errors 10.10.10.0/24

http://10.10.10.11 [200 OK] Country[RESERVED][ZZ], HTTPServer[nginx/1.14.1], IP[10.10.10.11], PoweredBy[Red,nginx], Title[Test Page for the Nginx HTTP Server on Red Hat Enterprise Linux], nginx[1.14.1]
http://10.10.10.100 [200 OK] Apache[2.4.41], Country[RESERVED][ZZ], HTTPServer[Ubuntu Linux][Apache/2.4.41 (Ubuntu)], IP[10.10.10.100], Title[File Sharing Service]
http://10.10.10.121 [200 OK] Apache[2.4.41], Country[RESERVED][ZZ], Email[license@php.net], HTTPServer[Ubuntu Linux][Apache/2.4.41 (Ubuntu)], IP[10.10.10.121], Title[PHP 7.4.3 - phpinfo()]
http://10.10.10.247 [200 OK] Bootstrap, Country[RESERVED][ZZ], Email[contact@cross-fit.htb], Frame, HTML5, HTTPServer[OpenBSD httpd], IP[10.10.10.247], JQuery[3.3.1], PHP[7.4.12], Script, Title[Fine Wines], X-Powered-By[PHP/7.4.12], X-UA-Compatible[ie=edge]
```
essa saída tem dados como o servidor, as ferramentas html, php e bootstrap, ip, o servidor nginx

#### Certificados

Certificados SSL/TLS contém dados geográficos como localização do proprietário e do servidor e dados como email, nome da organização e unidade

### Robots.txt
a primeira coisa a se fazer na enumeração é tentar abrir o site url.com/robots.txt, esse arquivo controla a indexação de conteúdo dos bots de pesquisa, ou seja, o que o público não pode ver costuma ficar armazenado nesse arquivo

![[Pasted image 20250227115943.png]]
### Código fonte
No código fonte, o único erro que você pode encontrar é o humano. Programadores costumam usar comentários para organizar e não se perder no código, mas as vezes usam esses comentários para teste e esquecem de tirar posteriormente
![[Pasted image 20250227120110.png]]

[próxima aula](8_exploits_publicos.md)
