# Aula 5

## SSH

é um protocolo de rede que roda por padrão na porta 22 e é usado pelos administradores para acesso remoto aos dados. Pode ser configurado por senha, que é menos seguro ou sem senha e com autenticação de chaves pública-privadas.  SSH pode ser usado para se conectar a diferentes dispositivos na rede ou na internet, facilitar conexões usando proxy e para baixar/carregar arquivos

O SSH conecta o cliente (por exemplo o OpenSSH) a um servidor SSH. SSH é mais estável do que reverse shells e pode ser usado pra pular de uma máquina atacada a outra na mesma rede

Se tivermos as credenciais do ssh podemos nos conectar usando a CLI:

	ssh [usuário]@[host_remoto]

Se tudo der certo, depois de fazer esse comando o SSH deve pedir a senha do usuário.

## Netcat

Netcat, ncat, ou nc é um programa de rede usado para interagir com portas TCP/UDP, o uso principal dela é iniciar reverse shells. netcat pode se conectar a qualquer porta que esteja com o status de escuta e pode interagir com o sistema que estiver rodando nela

### Banner grabbing

	netcat [ip] [porta]


se usarmos como exemplo o ssh teriamos:

	$ netcat 10.10.10.10 22
	SSH-2.0-OpenSSH_8.4p1 Debian-3

Nesse caso a porta 22 nos enviou um banner com o nome e versão do cliente SSH. Além disso netcat pode ser usado para transferir arquivos entre máquinas

Outro similar ao netcat é o socat, que tem recursos novos como encaminhamento de porta, conexão a dispositivos seriais e a possibilidade atualizar um shell para um TTY interativo. você pode enviar o arquivo binário autonômo para o sistema após conseguir um shell simples para ter um shell mais estável

## Tmux - Terminal multiplexers

É usado para transformar o terminal padrão do linux em algo mais complexo:

	$ sudo apt install tmux -y
(instalação)

Depois de instalado podemos executar o comando principal: 
	$ tmux

O prefixo padrão de do tmux é CTRL + B

O comando para criar uma segunda janela no terminal é [prefixo] + b

![[Pasted image 20250224104946.png]]
Para trocar entre as janelas você usa [prefixo] + o número do terminal (Começando em 0)

Para dividir uma janela verticalmente você usa o comando [prefixo] + [shift + %]

![[Pasted image 20250224105759.png]]

[prefixo] + [shift + "] para dividir horizontalmente

Para trocar entre terminais divididos é usado [prefixo] + [seta da esquerda e direita] (verticalmente dividido) ou [seta da direita e esquerda] (horizontalmente dividida)

## Vim

Vim é um editor de texto que funciona independentemente do mouse

Para criar um novo arquivo usando vim (se o arquivo existir ele é aberto)
	`$ vim main.py`

cria um arquivo main.py no diretório atual

quando o arquivo for aberto o vim é iniciado no normal mode, que permite navegação e leitura. Para editar o arquivo pressionamos i para entrar no insert mode. podemos usar as setas para mover o cursor

quando `esc` é pressionado, você sai do insert mode e volta para o normal mode, que tem funções como


| Comando | Descrição          |
| ------- | ------------------ |
| X       | Cortar caracter    |
| Dw      | Cortar uma palavra |
| Dd      | cortar uma linha   |
| yw      | copiar uma palavra |
| yy      | copiar a linha     |
| p       | colar              |
Se `:` for pressionado, o command mode é habilitado
Funções do command mode


| Comando | Descrição       |
| ------- | --------------- |
| :1      | Vai pra linha 1 |
| :w      | Salva o arquivo |
| :q      | sair            |
| :q!     | Sai sem salvar  |
| :wq     | Salva e sai     |

[próxima aula](6_Scanning.md)
[hackthebox](../../README.md)

